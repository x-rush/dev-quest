# 执行前检查清单

> **使用说明**: 在开始长时间任务执行之前，必须逐项检查并确认所有准备工作就绪。这是防止执行过程中出现问题的关键保障。

## 🔍 检查清单总览

### 检查分类
- **📋 规划文件检查** (6项)
- **🛠️ 技术环境检查** (8项)
- **💾 数据和状态检查** (5项)
- **⚠️ 风险和预案检查** (4项)
- **👥 用户确认检查** (3项)

**总计**: 26项必检项目

---

## 📋 规划文件检查

### 核心规划文件
- [ ] **PROJECT_PLAN.md** 已创建且内容完整
  - 包含项目目标和范围定义
  - 技术方案和架构设计明确
  - 时间安排和阶段划分合理

- [ ] **TASK_DEFINITIONS.md** 已生成且任务详细
  - 每个任务有明确的执行步骤
  - 验证标准和完成标志清晰
  - 依赖关系和资源需求明确

- [ ] **QUALITY_STANDARDS.md** 已定义且可量化
  - 质量评分标准和权重明确
  - 验证方法和工具具体
  - 质量阈值和预警机制设定

### 讨论和确认文件
- [ ] **TASK_DISCUSSION_RECORD.md** 已记录完整
  - 包含完整的讨论过程记录
  - 用户需求和技术决策明确
  - 所有歧义点已澄清并记录

- [ ] **EXECUTION_PLAN_CONFIRMATION.md** 已生成
  - 技术方案详细且可行
  - 执行计划时间安排合理
  - 风险评估和应对策略完整

- [ ] **用户确认书** 已签署
  - 用户已明确表示同意执行计划
  - 确认时间和版本信息记录
  - 修改机制和沟通方式明确

---

## 🛠️ 技术环境检查

### 系统环境
- [ ] **项目目录结构** 已准备就绪
  ```bash
  # 验证命令
  ls -la PROJECT_PLAN.md TASK_DEFINITIONS.md QUALITY_STANDARDS.md
  ```

- [ ] **磁盘空间** 充足 (建议预留 >5GB)
  ```bash
  # 检查命令
  df -h .
  # 确保可用空间 > 5GB
  ```

- [ ] **网络连接** 稳定且必要端口开放
  ```bash
  # 测试命令
  ping -c 3 google.com
  curl -I https://api.openai.com
  ```

- [ ] **系统权限** 充足且文件可写
  ```bash
  # 验证命令
  touch test_write_permission.txt && rm test_write_permission.txt
  ```

### 工具和依赖
- [ ] **Claude Code CLI** 正常工作
  ```bash
  # 测试命令
  claude --version
  claude "测试连接"
  ```

- [ ] **必要工具** 已安装并可使用
  ```bash
  # 根据项目需要检查
  # 例如: node --version, python --version, git --version
  ```

- [ ] **外部依赖服务** 可访问 (如需要)
  ```bash
  # 测试相关服务连接
  # 例如: 数据库连接、API服务测试
  ```

- [ ] **监控和日志系统** 已配置
  ```bash
  # 验证日志目录可写
  mkdir -p logs && touch logs/test.log
  ```

---

## 💾 数据和状态检查

### 状态文件准备
- [ ] **EXECUTION_STATUS.json** 初始化文件已准备
  ```json
  {
    "execution_info": {
      "session_id": "sess_[YYYYMMDD_HHMMSS]",
      "start_time": "[ISO时间戳]",
      "status": "READY_TO_START",
      "current_task": null
    }
  }
  ```

- [ ] **备份目录结构** 已创建
  ```bash
  # 创建必要的备份目录
  mkdir -p STATE_BACKUPS
  mkdir -p ERROR_REPORTS
  mkdir -p QUALITY_REPORTS
  ```

### 数据完整性
- [ ] **规划文件一致性** 已验证
  ```bash
  # 检查文件完整性
  wc -l PROJECT_PLAN.md TASK_DEFINITIONS.md QUALITY_STANDARDS.md
  ```

- [ ] **引用和链接** 已检查有效性
  ```bash
  # 检查Markdown链接
  # (可使用markdown lint工具)
  ```

- [ ] **配置参数** 已验证合理性
  ```bash
  # 检查配置文件语法
  # 验证关键参数值
  ```

---

## ⚠️ 风险和预案检查

### 风险控制
- [ ] **已识别风险** 都有应对策略
  - 每个高风险项都有具体的应对措施
  - 应急联系人和沟通渠道明确
  - 风险触发条件和处理流程清楚

- [ ] **中断恢复机制** 已测试
  ```bash
  # 测试状态保存和恢复
  # 验证备份文件生成
  ```

- [ ] **异常处理流程** 已明确
  - 不同类型异常的处理责任人
  - 升级机制和时限要求
  - 记录和报告格式标准

- [ ] **质量监控机制** 已配置
  - 自动检查工具已安装配置
  - 质量阈值和预警规则设定
  - 人工检查安排和责任明确

---

## 👥 用户确认检查

### 最终确认
- [ ] **用户已最终确认** 可以开始执行
  - 用户明确表示"同意开始执行"
  - 确认时间已记录
  - 确认方式符合要求 (口头/书面)

- [ ] **沟通机制** 已建立
  - 执行期间的沟通方式明确
  - 紧急联系信息已交换
  - 定期汇报安排已确定

- [ ] **执行权限** 已获得
  - 系统访问权限已确认
  - 文件操作权限已验证
  - 外部服务访问权限已测试

---

## 🚀 启动前最终检查

### Claude自检确认
```markdown
## 启动前最终自检
作为Claude Code，我确认：

✅ **规划完整性**
- 所有必需的规划文件都已创建并确认
- 任务讨论记录完整，用户需求明确
- 执行计划详细且用户已确认

✅ **技术准备**
- 系统环境满足执行要求
- 工具和依赖都已安装验证
- 监控和日志机制已配置

✅ **风险控制**
- 已识别风险都有应对策略
- 异常处理和恢复机制已测试
- 质量监控和预警系统已就绪

✅ **用户确认**
- 用户已明确同意开始执行
- 沟通机制和权限都已确认
- 执行期间的责任分工明确

我现在已完全准备就绪，可以开始执行长时间任务。
```

### 启动确认声明
```markdown
## 🎯 准备启动确认

**任务**: [任务名称和编号]
**计划执行时间**: [开始时间] - [结束时间]
**预估时长**: [时长]

**最终检查结果**:
- 规划文件: ✅ 完成
- 技术环境: ✅ 就绪
- 数据状态: ✅ 完整
- 风险预案: ✅ 充分
- 用户确认: ✅ 获得

**启动确认**: ✅ 所有检查项通过，可以开始执行

**启动命令准备**:
```
claude "根据 EXECUTION_PLAN_CONFIRMATION.md 开始执行任务 [任务编号]，从阶段1开始"
```
```

---

## 📊 检查清单使用指南

### 使用方法
1. **逐项检查**: 严格按照清单顺序逐项检查
2. **记录结果**: 每项检查后记录结果和时间
3. **问题处理**: 发现问题立即处理，不要跳过
4. **最终确认**: 所有项目完成后进行最终确认

### 检查标准
- **✅ 通过**: 项目完全符合要求
- **⚠️ 有风险**: 基本符合但有潜在问题，需要记录
- **❌ 不通过**: 项目不符合要求，必须修复

### 常见问题和处理

#### 问题1: 文件不完整
**症状**: 某个规划文件内容不完整
**处理**: 补充缺失内容，重新检查

#### 问题2: 权限不足
**症状**: 文件无法写入或命令无法执行
**处理**: 检查用户权限，调整文件权限

#### 问题3: 网络不稳定
**症状**: 网络连接测试失败
**处理**: 修复网络问题或调整执行策略

#### 问题4: 用户犹豫
**症状**: 用户对某些方面仍有疑虑
**处理**: 暂停检查，进一步沟通澄清

---

**重要提醒**:
- 宁可多花时间检查，也不要带着问题开始执行
- 任何未通过检查的项目都必须解决后才能继续
- 检查清单的完整性是任务成功的关键保障
- 建议保存检查记录以备后续参考